iot-alerts/
â”œâ”€â”€ api/                         # ğŸ’¡ API Definitions (gRPC + OpenAPI)
â”‚   â”œâ”€â”€ proto/                   # gRPC Protobuf Definitions
â”‚   â”‚   â”œâ”€â”€ alert.proto           # Alert service definition
â”‚   â”‚   â”œâ”€â”€ health.proto          # Health check service
â”‚   â”‚   â”œâ”€â”€ common.proto          # Shared message types
â”‚   â”‚   â”œâ”€â”€ api.proto             # General API
â”‚   â”‚   â”œâ”€â”€ Makefile              # Proto build automation
â”‚   â”‚   â”œâ”€â”€ buf.yaml              # Buf Schema Linter
â”‚   â”œâ”€â”€ openapi/                  # REST API Documentation
â”‚   â”‚   â”œâ”€â”€ swagger.yaml          # OpenAPI (Swagger) spec
â”‚   â”‚   â”œâ”€â”€ postman_collection.json  # Postman API Collection
â”‚   â”‚   â”œâ”€â”€ Makefile              # OpenAPI build automation
â”‚
â”œâ”€â”€ cmd/                         # ğŸ’¡ Main Application Entry Points
â”‚   â”œâ”€â”€ api/                      # API Server
â”‚   â”‚   â”œâ”€â”€ main.go                # Starts gRPC & HTTP server
â”‚   â”‚   â”œâ”€â”€ config.yaml            # API server configuration
â”‚   â”œâ”€â”€ worker/                   # Background Worker Service
â”‚   â”‚   â”œâ”€â”€ main.go                # Kafka consumer logic
â”‚   â”œâ”€â”€ cron/                     # Scheduled Jobs
â”‚   â”‚   â”œâ”€â”€ main.go                # Runs cron jobs
â”‚
â”œâ”€â”€ internal/                     # ğŸ’¡ Private Business Logic
â”‚   â”œâ”€â”€ cache/                    # ğŸ”¥ Redis & Local Caching
â”‚   â”‚   â”œâ”€â”€ redis.go               # Redis client
â”‚   â”‚   â”œâ”€â”€ lru_cache.go           # LRU cache for fast lookups
â”‚   â”‚   â”œâ”€â”€ cache_manager.go       # Cache abstraction layer
â”‚   â”œâ”€â”€ webhook/                  # ğŸ”” Webhook Notification Service
â”‚   â”‚   â”œâ”€â”€ handler.go             # Webhook handler
â”‚   â”‚   â”œâ”€â”€ notifier.go            # Sends webhook events
â”‚   â”‚   â”œâ”€â”€ processor.go           # Processes webhook data
â”‚   â”œâ”€â”€ metrics/                   # ğŸ“Š Observability (Prometheus + Tracing)
â”‚   â”‚   â”œâ”€â”€ prometheus.go          # Prometheus metrics
â”‚   â”‚   â”œâ”€â”€ tracing.go             # OpenTelemetry distributed tracing
â”‚   â”‚   â”œâ”€â”€ logger.go              # Structured logging (Zap)
â”‚   â”œâ”€â”€ repository/                # ğŸ—ƒï¸ Database Layer (SQLC)
â”‚   â”‚   â”œâ”€â”€ alert_repository.go    # Alert storage logic
â”‚   â”‚   â”œâ”€â”€ device_repository.go   # Device storage logic
â”‚   â”œâ”€â”€ server/                    # ğŸ›°ï¸ gRPC & REST Server
â”‚   â”‚   â”œâ”€â”€ grpc_server.go         # gRPC API server
â”‚   â”‚   â”œâ”€â”€ http_server.go         # RESTful API server
â”‚   â”‚   â”œâ”€â”€ websocket_server.go    # WebSocket server
â”‚   â”œâ”€â”€ service/                   # ğŸ“¦ Core Business Logic
â”‚   â”‚   â”œâ”€â”€ alert_service.go       # Alert processing logic
â”‚   â”‚   â”œâ”€â”€ device_service.go      # Device management logic
â”‚   â”œâ”€â”€ middleware/                # ğŸ›¡ï¸ gRPC & HTTP Middleware
â”‚   â”‚   â”œâ”€â”€ auth.go                # Authentication middleware
â”‚   â”‚   â”œâ”€â”€ logging.go             # Logging middleware
â”‚   â”‚   â”œâ”€â”€ recovery.go            # Panic recovery
â”‚   â”œâ”€â”€ util/                      # ğŸ› ï¸ Utility Functions
â”‚   â”‚   â”œâ”€â”€ config.go              # Loads environment variables
â”‚   â”‚   â”œâ”€â”€ helper.go              # General helper functions
â”‚
â”œâ”€â”€ third_party/                   # ğŸ”— External Protobuf & OpenAPI Dependencies
â”‚   â”œâ”€â”€ googleapis/                 # Google API .proto files
â”‚   â”œâ”€â”€ grpc-gateway/               # gRPC Gateway .proto files
â”‚   â”œâ”€â”€ openapi/                    # OpenAPI dependencies
â”‚
â”œâ”€â”€ db/                             # ğŸ’¾ Database Schema & Migrations
â”‚   â”œâ”€â”€ migrations/                 # SQL Migration Files
â”‚   â”‚   â”œâ”€â”€ 001_init.up.sql         # Initial schema
â”‚   â”‚   â”œâ”€â”€ 002_add_alerts.up.sql   # Alerts table
â”‚   â”œâ”€â”€ sqlc/                       # SQLC Code Generation
â”‚   â”‚   â”œâ”€â”€ sqlc.yaml               # SQLC configuration
â”‚   â”‚   â”œâ”€â”€ queries.sql             # SQL Queries
â”‚   â”‚   â”œâ”€â”€ models.go               # Generated Go models
â”‚
â”œâ”€â”€ deploy/                         # ğŸš€ Deployment Configurations
â”‚   â”œâ”€â”€ helm/                       # Kubernetes Helm Charts
â”‚   â”‚   â”œâ”€â”€ Chart.yaml              # Helm Chart metadata
â”‚   â”‚   â”œâ”€â”€ values.yaml             # Default Helm values
â”‚   â”‚   â”œâ”€â”€ templates/              # Kubernetes YAML templates
â”‚   â”œâ”€â”€ k8s/                        # Kubernetes Manifests
â”‚   â”‚   â”œâ”€â”€ deployment.yaml         # API Deployment
â”‚   â”‚   â”œâ”€â”€ service.yaml            # Service definition
â”‚   â”‚   â”œâ”€â”€ ingress.yaml            # Ingress configuration
â”‚   â”œâ”€â”€ docker/                     # Docker Configurations
â”‚   â”‚   â”œâ”€â”€ Dockerfile              # API Server Dockerfile
â”‚   â”‚   â”œâ”€â”€ docker-compose.yaml     # Local Docker setup
â”‚
â”œâ”€â”€ scripts/                        # ğŸ› ï¸ Utility Scripts
â”‚   â”œâ”€â”€ init_db.sh                  # Initialize database
â”‚   â”œâ”€â”€ run_migrations.sh           # Run DB migrations
â”‚
â”œâ”€â”€ test/                           # âœ… Unit & Integration Tests
â”‚   â”œâ”€â”€ api_test.go                 # API tests
â”‚   â”œâ”€â”€ service_test.go             # Service tests
â”‚   â”œâ”€â”€ repository_test.go          # Database tests
â”‚
â”œâ”€â”€ .github/                        # ğŸ› ï¸ CI/CD (GitHub Actions)
â”‚   â”œâ”€â”€ workflows/
â”‚   â”‚   â”œâ”€â”€ ci.yaml                 # CI pipeline
â”‚   â”‚   â”œâ”€â”€ deploy.yaml             # CD pipeline
â”‚
â”œâ”€â”€ config/                         # âš™ï¸ Configuration Files
â”‚   â”œâ”€â”€ dev.yaml                    # Development config
â”‚   â”œâ”€â”€ prod.yaml                   # Production config
â”‚   â”œâ”€â”€ test.yaml                    # Test config
â”‚
â”œâ”€â”€ Makefile                        # ğŸ—ï¸ Build & Automation
â”œâ”€â”€ go.mod                           # Go Module File
â”œâ”€â”€ README.md                        # ğŸ“– Project Documentation
â”œâ”€â”€ LICENSE                          # ğŸ“œ License Information